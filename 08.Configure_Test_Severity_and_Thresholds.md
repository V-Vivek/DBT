# Configuring Test Severity and Thresholds in dbt

dbt allows you to customize how tests behave by configuring their severity and thresholds. This helps you control which test failures should block deployments and which should only raise warnings.

## Default Severity

By default, dbt tests have a severity of `error`. This means that if a test fails, dbt will stop the run and report an error.

```yaml
# Example: Setting severity to warning
columns:
  - name: column_name
    tests:
      - not_null:
          severity: warn
```

## `error_if` and `warn_if`

For more granular control, you can use the `error_if` and `warn_if` configurations to set thresholds for test failures:

- **`error_if`**: If the number of failing rows meets or exceeds this threshold, the test will fail with an error.
- **`warn_if`**: If the number of failing rows meets or exceeds this threshold, the test will raise a warning.

```yaml
# Example: Custom thresholds for a test
columns:
  - name: column_name
    tests:
      - my_custom_test:
          error_if: ">10"
          warn_if: ">0"
```

In this example:
- If more than 10 rows fail, the test errors.
- If more than 0 rows fail (but 10 or fewer), the test warns.

## Usage in `dbt_project.yml`

You can also set default severities and thresholds for all tests in your project:

```yaml
tests:
  severity: warn
  error_if: ">5"
  warn_if: ">0"
```

## Summary

- **Severity** controls if a test failure is an error or warning.
- **`error_if`/`warn_if`** set row-based thresholds for errors and warnings.
- Configure these in test definitions or globally in `dbt_project.yml`.

For more details, see the [dbt documentation on test severity and thresholds](https://docs.getdbt.com/docs/build/tests#test-severity-and-thresholds).