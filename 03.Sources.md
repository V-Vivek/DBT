# Sources in dbt

In dbt, **sources** are references to raw data tables in your data warehouse. They allow you to track and document where your data comes from, and make it easy to build models on top of raw data.

## Defining a Source

You define sources in a `sources:` block inside a `.yml` file (usually in the `models` directory):

```yaml

# For BigQuery
version: 2

sources:
  - name: raw  # Source name which will be referenced in models
    database: analytics # Project name of your GCP project
    schema: raw # Dataset name
    tables:
      - name: customers # Table name
      - name: orders # Table name

```

```yaml

# For Snowflake
version: 2

sources:
  - name: raw # Source name which will be referenced in models
    database: analytics # Database name
    schema: PUBLIC # Schema name
    tables:
      - name: customers # Table name
      - name: orders # Table name

```


> Note: By default, `schema` will be the same as `name`. Add `schema` only if you want to use a source name that differs from the existing `schema`.

This note is explaining how the `schema` and `name` fields work when defining a source in a configuration file (likely for a tool like dbt).

- **`name`**: This is the identifier you give to your source.  
- **`schema`**: This is the database schema(in terms of BigQuery dataset name) where the source table actually lives.

**Default behavior:**  
If you don’t specify a `schema`, the tool will assume the schema name is the same as the `name` you provided.

**When to add `schema`:**  
Only add the `schema` field if the actual schema in your database is different from the `name` you want to use for the source in your code.

**Example:**

````yaml
sources:
  - name: sales_data
    # schema will default to 'sales_data'
````

If your table is actually in a schema called `raw`, you’d do:

````yaml
sources:
  - name: sales_data
    schema: raw
````

**Gotcha:**  
If you forget to set `schema` when your source lives in a differently named schema, your code may not find the table.
## Using a Source in a Model

You reference a source in your dbt models using the `source()` function:

```sql
-- models/stg_customers.sql
select
    id,
    name,
    email
from {{ source('raw', 'customers') }}
```

## Benefits

- **Documentation:** Sources are documented and can be viewed in dbt docs.
- **Testing:** You can add tests to sources to ensure data quality.
- **Lineage:** Sources help visualize data lineage from raw to transformed data.
